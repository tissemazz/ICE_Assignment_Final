{"version":3,"file":"material-sort-testing.umd.js","sources":["../../../../../../../src/material/sort/testing/sort-header-harness.ts","../../../../../../../src/material/sort/testing/sort-harness.ts","../../../../../../../src/material/sort/testing/public-api.ts","../../../../../../../src/material/sort/testing/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ComponentHarness, HarnessPredicate} from '@angular/cdk/testing';\nimport {SortDirection} from '@angular/material/sort';\nimport {SortHeaderHarnessFilters} from './sort-harness-filters';\n\n/** Harness for interacting with a standard Angular Material sort header in tests. */\nexport class MatSortHeaderHarness extends ComponentHarness {\n  static hostSelector = '.mat-sort-header';\n  private _button = this.locatorFor('.mat-sort-header-button');\n\n  /**\n   * Gets a `HarnessPredicate` that can be used to\n   * search for a sort header with specific attributes.\n   */\n  static with(options: SortHeaderHarnessFilters = {}): HarnessPredicate<MatSortHeaderHarness> {\n    return new HarnessPredicate(MatSortHeaderHarness, options)\n        .addOption('label', options.label,\n            (harness, label) => HarnessPredicate.stringMatches(harness.getLabel(), label))\n        .addOption('sortDirection', options.sortDirection, (harness, sortDirection) => {\n          return HarnessPredicate.stringMatches(harness.getSortDirection(), sortDirection);\n        });\n  }\n\n  /** Gets the label of the sort header. */\n  async getLabel(): Promise<string> {\n    return (await this._button()).text();\n  }\n\n  /** Gets the sorting direction of the header. */\n  async getSortDirection(): Promise<SortDirection> {\n    const host = await this.host();\n    const ariaSort = await host.getAttribute('aria-sort');\n\n    if (ariaSort === 'ascending') {\n      return 'asc';\n    } else if (ariaSort === 'descending') {\n      return 'desc';\n    }\n\n    return '';\n  }\n\n  /** Gets the aria-label of the sort header. */\n  async getAriaLabel(): Promise<string|null> {\n    return (await this._button()).getAttribute('aria-label');\n  }\n\n  /** Gets whether the sort header is currently being sorted by. */\n  async isActive(): Promise<boolean> {\n    return !!(await this.getSortDirection());\n  }\n\n  /** Whether the sort header is disabled. */\n  async isDisabled(): Promise<boolean> {\n    const button = await this._button();\n    return (await button.getAttribute('disabled')) != null;\n  }\n\n  /** Clicks the header to change its sorting direction. Only works if the header is enabled. */\n  async click(): Promise<void> {\n    return (await this.host()).click();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ComponentHarness, HarnessPredicate} from '@angular/cdk/testing';\nimport {SortHarnessFilters, SortHeaderHarnessFilters} from './sort-harness-filters';\nimport {MatSortHeaderHarness} from './sort-header-harness';\n\n/** Harness for interacting with a standard `mat-sort` in tests. */\nexport class MatSortHarness extends ComponentHarness {\n  static hostSelector = '.mat-sort';\n\n  /**\n   * Gets a `HarnessPredicate` that can be used to search for a `mat-sort` with specific attributes.\n   * @param options Options for narrowing the search.\n   * @return a `HarnessPredicate` configured with the given options.\n   */\n  static with(options: SortHarnessFilters = {}): HarnessPredicate<MatSortHarness> {\n    return new HarnessPredicate(MatSortHarness, options);\n  }\n\n  /** Gets all of the sort headers in the `mat-sort`. */\n  async getSortHeaders(filter: SortHeaderHarnessFilters = {}): Promise<MatSortHeaderHarness[]> {\n    return this.locatorForAll(MatSortHeaderHarness.with(filter))();\n  }\n\n  /** Gets the selected header in the `mat-sort`. */\n  async getActiveHeader(): Promise<MatSortHeaderHarness|null> {\n    const headers = await this.getSortHeaders();\n    for (let i = 0; i < headers.length; i++) {\n      if (await headers[i].isActive()) {\n        return headers[i];\n      }\n    }\n    return null;\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './sort-harness';\nexport * from './sort-header-harness';\nexport * from './sort-harness-filters';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport * from './public-api';\n"],"names":["__extends","HarnessPredicate","ComponentHarness"],"mappings":"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"}